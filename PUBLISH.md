# NPM å‘å¸ƒæŒ‡å—

æœ¬é¡¹ç›®å·²é…ç½®äº†å®Œæ•´çš„NPMå‘å¸ƒæµç¨‹ï¼ŒåŒ…å«å¤šç§å‘å¸ƒæ–¹å¼ã€‚

## ğŸš€ å¿«é€Ÿå‘å¸ƒ

### ä½¿ç”¨npmè„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# å‘å¸ƒè¡¥ä¸ç‰ˆæœ¬ (1.0.0 -> 1.0.1)
npm run publish:patch

# å‘å¸ƒæ¬¡è¦ç‰ˆæœ¬ (1.0.0 -> 1.1.0)
npm run publish:minor

# å‘å¸ƒä¸»è¦ç‰ˆæœ¬ (1.0.0 -> 2.0.0)
npm run publish:major

# å‘å¸ƒbetaç‰ˆæœ¬ (1.0.0 -> 1.0.1-beta.0)
npm run publish:beta

# å‘å¸ƒalphaç‰ˆæœ¬ (1.0.0 -> 1.0.1-alpha.0)
npm run publish:alpha

# ç›´æ¥å‘å¸ƒå½“å‰ç‰ˆæœ¬ï¼ˆä¸æ›´æ–°ç‰ˆæœ¬å·ï¼‰
npm run release
```

### ä½¿ç”¨å‘å¸ƒè„šæœ¬ï¼ˆåŠŸèƒ½æ›´å®Œæ•´ï¼‰

```bash
# å‘å¸ƒè¡¥ä¸ç‰ˆæœ¬
./scripts/publish.sh patch

# å‘å¸ƒæ¬¡è¦ç‰ˆæœ¬
./scripts/publish.sh minor

# å‘å¸ƒä¸»è¦ç‰ˆæœ¬
./scripts/publish.sh major

# å‘å¸ƒbetaç‰ˆæœ¬
./scripts/publish.sh beta

# å‘å¸ƒalphaç‰ˆæœ¬
./scripts/publish.sh alpha

# é»˜è®¤å‘å¸ƒè¡¥ä¸ç‰ˆæœ¬
./scripts/publish.sh
```

## ğŸ“‹ å‘å¸ƒå‰å‡†å¤‡

### 1. ç™»å½•NPM
```bash
npm login
```

### 2. æ£€æŸ¥ç™»å½•çŠ¶æ€
```bash
npm whoami
```

### 3. æ›´æ–°åŒ…ä¿¡æ¯ï¼ˆé¦–æ¬¡å‘å¸ƒï¼‰
åœ¨ `package.json` ä¸­æ›´æ–°ä»¥ä¸‹ä¿¡æ¯ï¼š
- `name`: åŒ…åï¼ˆç¡®ä¿åœ¨NPMä¸Šå¯ç”¨ï¼‰
- `repository.url`: Gitä»“åº“URL
- `bugs.url`: é—®é¢˜åé¦ˆURL
- `homepage`: é¡¹ç›®ä¸»é¡µURL

## ğŸ” å‘å¸ƒæµç¨‹è¯´æ˜

å‘å¸ƒè„šæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

1. **ç¯å¢ƒæ£€æŸ¥**
   - æ£€æŸ¥æ˜¯å¦ç™»å½•NPM
   - æ£€æŸ¥Gitå·¥ä½œåŒºæ˜¯å¦å¹²å‡€
   - æ£€æŸ¥æ˜¯å¦åœ¨åˆé€‚çš„åˆ†æ”¯

2. **æ„å»ºé¡¹ç›®**
   - æ¸…ç†æ—§çš„æ„å»ºæ–‡ä»¶
   - ç¼–è¯‘TypeScriptä»£ç 
   - éªŒè¯æ„å»ºç»“æœ

3. **ç‰ˆæœ¬ç®¡ç†**
   - è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å·
   - åˆ›å»ºGitæ ‡ç­¾
   - æäº¤æ›´æ”¹

4. **å‘å¸ƒåŒ…**
   - ä¸Šä¼ åˆ°NPMä»“åº“
   - æ¨é€Gitæ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“

## ğŸ“¦ å‘å¸ƒçš„æ–‡ä»¶

æ ¹æ® `package.json` ä¸­çš„ `files` å­—æ®µï¼Œä»¥ä¸‹æ–‡ä»¶ä¼šè¢«åŒ…å«åœ¨NPMåŒ…ä¸­ï¼š
- `dist/**/*` - ç¼–è¯‘åçš„JavaScriptæ–‡ä»¶
- `README.md` - é¡¹ç›®è¯´æ˜
- `package.json` - åŒ…é…ç½®
- `LICENSE` - è®¸å¯è¯æ–‡ä»¶

## ğŸ·ï¸ ç‰ˆæœ¬è¯´æ˜

- **patch**: ä¿®å¤bugï¼Œå‘åå…¼å®¹ (1.0.0 -> 1.0.1)
- **minor**: æ–°åŠŸèƒ½ï¼Œå‘åå…¼å®¹ (1.0.0 -> 1.1.0)
- **major**: ç ´åæ€§æ›´æ”¹ (1.0.0 -> 2.0.0)
- **beta**: æµ‹è¯•ç‰ˆæœ¬ (1.0.0 -> 1.0.1-beta.0)
- **alpha**: å†…éƒ¨æµ‹è¯•ç‰ˆæœ¬ (1.0.0 -> 1.0.1-alpha.0)

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡å‘å¸ƒå‰**ï¼Œç¡®ä¿åŒ…ååœ¨NPMä¸Šå¯ç”¨
2. **æ­£å¼ç‰ˆæœ¬**å»ºè®®åœ¨mainåˆ†æ”¯å‘å¸ƒ
3. **æµ‹è¯•ç‰ˆæœ¬**ï¼ˆbeta/alphaï¼‰å¯ä»¥åœ¨ä»»ä½•åˆ†æ”¯å‘å¸ƒ
4. å‘å¸ƒå‰ç¡®ä¿æ‰€æœ‰æ›´æ”¹å·²æäº¤åˆ°Git
5. ç¡®ä¿æ„å»ºé€šè¿‡ä¸”åŠŸèƒ½æ­£å¸¸

## ğŸ”§ æ•…éšœæ’é™¤

### åŒ…åå·²å­˜åœ¨
```bash
npm ERR! 403 Forbidden - PUT https://registry.npmjs.org/package-name - You do not have permission to publish "package-name".
```
è§£å†³æ–¹æ¡ˆï¼šæ›´æ”¹ `package.json` ä¸­çš„åŒ…å

### æœªç™»å½•NPM
```bash
npm ERR! code ENEEDAUTH
```
è§£å†³æ–¹æ¡ˆï¼šè¿è¡Œ `npm login` ç™»å½•

### å·¥ä½œåŒºä¸å¹²å‡€
```bash
å·¥ä½œåŒºæœ‰æœªæäº¤çš„æ›´æ”¹ï¼Œè¯·å…ˆæäº¤æˆ–æš‚å­˜
```
è§£å†³æ–¹æ¡ˆï¼šæäº¤æˆ–æš‚å­˜æ‰€æœ‰æ›´æ”¹
```bash
git add .
git commit -m "å‘å¸ƒå‰çš„æ›´æ”¹"
```

## ğŸ“Š å‘å¸ƒåéªŒè¯

å‘å¸ƒæˆåŠŸåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼éªŒè¯ï¼š

1. **æ£€æŸ¥NPMåŒ…é¡µé¢**
   ```
   https://www.npmjs.com/package/your-package-name
   ```

2. **æµ‹è¯•å®‰è£…**
   ```bash
   npm install your-package-name
   ```

3. **æ£€æŸ¥ç‰ˆæœ¬**
   ```bash
   npm view your-package-name version
   ``` 